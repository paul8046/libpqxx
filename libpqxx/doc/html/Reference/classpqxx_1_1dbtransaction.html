<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libpqxx: pqxx::dbtransaction class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>pqxx::dbtransaction Class Reference</h1>Abstract base class responsible for bracketing a backend transaction. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="dbtransaction_8h-source.html">dbtransaction.h</a>&gt;</code>
<p>
<p>Inheritance diagram for pqxx::dbtransaction:
<p><center><img src="classpqxx_1_1dbtransaction.png" usemap="#pqxx::dbtransaction_map" border="0" alt=""></center>
<map name="pqxx::dbtransaction_map">
<area href="classpqxx_1_1transaction__base.html" alt="pqxx::transaction_base" shape="rect" coords="139,0,408,24">
<area href="classpqxx_1_1basic__robusttransaction.html" alt="pqxx::basic_robusttransaction" shape="rect" coords="0,112,269,136">
<area href="classpqxx_1_1basic__transaction.html" alt="pqxx::basic_transaction" shape="rect" coords="279,112,548,136">
<area href="classpqxx_1_1robusttransaction.html" alt="pqxx::robusttransaction< ISOLATIONLEVEL >" shape="rect" coords="0,168,269,192">
<area href="classpqxx_1_1transaction.html" alt="pqxx::transaction< ISOLATIONLEVEL >" shape="rect" coords="279,168,548,192">
</map>
<a href="classpqxx_1_1dbtransaction-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classpqxx_1_1dbtransaction.html#b0">dbtransaction</a> (<a class="el" href="classpqxx_1_1connection__base.html">connection_base</a> &amp;C, const PGSTD::string &amp;IsolationString, const PGSTD::string &amp;NName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const PGSTD::string &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classpqxx_1_1dbtransaction.html#b1">StartCmd</a> () const</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The SQL command needed to start this type of transaction.</em> <a href="#b1"></a><em><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Abstract base class responsible for bracketing a backend transaction.
<p>
Use a dbtransaction-derived object such as a transaction&lt;&gt; to enclose operations on a database in a single "unit of work." This ensures that the whole series of operations either succeeds as a whole or fails completely. In no case will it leave half-finished work behind in the database.<p>
Once processing on a transaction has succeeded and any changes should be allowed to become permanent in the database, call <a class="el" href="classpqxx_1_1transaction__base.html#a1">Commit()</a>. If something has gone wrong and the changes should be forgotten, call <a class="el" href="classpqxx_1_1transaction__base.html#a2">Abort()</a> instead. If you do neither, an implicit <a class="el" href="classpqxx_1_1transaction__base.html#a2">Abort()</a> is executed at destruction time.<p>
It is an error to abort a transaction that has already been committed, or to commit a transaction that has already been aborted. Aborting an already aborted transaction or committing an already committed one has been allowed to make errors easier to deal with. Repeated aborts or commits have no effect after the first one.<p>
Database transactions are not suitable for guarding long-running processes. If your transaction code becomes too long or too complex, please consider ways to break it up into smaller ones. There's no easy, general way to do this since application-specific considerations become important at this point.<p>
The actual operations for beginning and committing/aborting the backend transaction are implemented by a derived class. The implementing concrete class must also call <a class="el" href="classpqxx_1_1transaction__base.html#b1">Begin()</a> and <a class="el" href="classpqxx_1_1transaction__base.html#b2">End()</a> from its constructors and destructors, respectively, and implement <a class="el" href="classpqxx_1_1transaction__base.html#b4">DoExec()</a>. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="b0" doxytag="pqxx::dbtransaction::dbtransaction"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> pqxx::dbtransaction::dbtransaction </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classpqxx_1_1connection__base.html">connection_base</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>C</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const PGSTD::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>IsolationString</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const PGSTD::string &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>NName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [explicit, protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="b1" doxytag="pqxx::dbtransaction::StartCmd"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const PGSTD::string&amp; pqxx::dbtransaction::StartCmd </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [protected]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The SQL command needed to start this type of transaction.
<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="dbtransaction_8h-source.html">dbtransaction.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sat Jun 14 00:10:14 2003 for libpqxx by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.1 </small></address>
</body>
</html>
